<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title">Add/Edit Appointment</h4>
          </div>
          <div class="card-body">
            <form [formGroup]="form">
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field class="example-full-width">
                    <mat-label>Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="date" />
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="date.invalid">*Date is Required</mat-error>
                  </mat-form-field>
                </div>

                <div class="col-md-6">
                  <mat-form-field class="example-full-width">
                    <mat-label>Time</mat-label>
                    <mat-select formControlName="time" name="time">
                      <mat-option *ngFor="let o of times" [value]="o">
                        {{ o }}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="time.invalid">*Time is Required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field class="example-full-width">
                    <mat-label>Owner</mat-label>
                    <mat-select formControlName="owner" name="owner">
                      <mat-option *ngFor="let o of owners$ | async" [value]="o.id">
                        {{ o.firstName }} {{ o.lastName }}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="owner.invalid">*Owner is Required</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-12">
                  <mat-form-field class="example-full-width">
                    <mat-label>Pet</mat-label>
                    <mat-select formControlName="pet" name="pet">
                      <mat-option *ngFor="let p of pets" [value]="p.id">
                        {{ p.name }} {{ p.type }}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="pet.invalid">*Pet is Required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field class="example-full-width">
                    <mat-label>Doctor</mat-label>
                    <mat-select formControlName="vet" name="vet">
                      <mat-option *ngFor="let v of vets" [value]="v.id">
                        {{ v.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="vet.invalid">*Vet is Required</mat-error>
                  </mat-form-field>
                </div>
              </div>

              <button
                mat-raised-button
                [disabled]="!form.valid"
                type="submit"
                class="btn btn-danger pull-right"
                (click)="MakeReservation()"
              >
                Confirm
              </button>
              <div class="row">
                <div class="col-md-12">
                  <ul *ngIf="isError">
                    <li *ngFor="let e of errors">
                      <mat-error>
                        {{ e }}
                      </mat-error>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="clearfix"></div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
